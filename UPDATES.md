# TeraGRID 업데이트 내역

## 2025-10-13 업데이트 (Session 2 - 링크 수정 및 지도 최적화)

### 전체 페이지 사이드바 표준화 ⭐

**변경 사항:**
- ✅ **전체 48개 페이지 사이드바 메뉴 표준화 완료**
- ✅ "로그인" 메뉴 항목 제거 (UX 개선 - 로그인 후 화면에 로그인 메뉴는 부적절)
- ✅ 7개 메인 메뉴 + 2개 하단 메뉴 + 로그아웃 버튼으로 통일
- ✅ 각 페이지별 active 상태 정확히 설정
- ✅ 사용자 정보 통일 (관리자 / admin@teragrid.com)

**표준 메뉴 구조:**

메인 메뉴 (7개):
1. 대시보드 (2-1_대시보드.html) - home-line 아이콘
2. 선박 상세 (3-1-1_선박상세대시보드.html)
3. 컴플라이언스 (3-2-1_컴플라이언스대시보드.html)
4. 사이버 리스크 (4-1-1_경보목록.html)
5. 인프라 로그 (5-1-1_IP트래픽로그.html)
6. 정책 및 구성 (6-1-1_존설정.html)
7. 관리 (7-1-1_사용자관리.html)

하단 메뉴 (2개):
1. 내 정보 (1-3_내정보관리.html)
2. 시스템 설정 (7-2-1_시스템설정.html)

**업데이트된 파일 (48개):**
- 공통: 1-3_내정보관리.html
- 선박 상세: 8개 파일 (HW자산, SW자산, 퍼듀모델, 구성도 등)
- 컴플라이언스: 7개 파일 (대시보드 + UR E26 문서 + 감사)
- 사이버 리스크: 10개 파일 (경보, 사고, 취약점, 스캔 등)
- 인프라 로그: 3개 파일 (IP, OT, 원격접속)
- 정책 및 구성: 11개 파일 (존설정, 허용목록, 백업, 플레이북 등)
- 관리: 2개 파일 (사용자관리, 시스템설정)
- 선상 대시보드: 5개 파일 (경보목록, 네트워크상태, 대응가이드 등)

**제외된 파일 (정상):**
- index.html (로그인 페이지)
- 1-1_로그인.html, 1-2_아이디비밀번호찾기.html (로그인 관련)
- 6-1-1-1_PIN입력.html (모달)
- 8-1-1_선상메인대시보드.html (독립 레이아웃)

---

### 링크 및 네비게이션 개선

**변경 사항:**
- ✅ 메뉴구조도에 따른 모든 페이지 링크 검증 및 수정
- ✅ 깨진 링크 전면 수정 (dashboard.html, vessel-detail.html, alerts.html 등)
- ✅ 로그인 폼에 대시보드 리다이렉트 추가
- ✅ 사이드바 메뉴 링크 표준화 (전체 8개 메뉴 + 하단 2개)
- ✅ Breadcrumb 네비게이션 링크 수정

**수정 파일:**
- `index.html:210` - 로그인 폼에 onsubmit 핸들러 추가 → 2-1_대시보드.html
- `2-1_대시보드.html:283-315, 317-327, 336, 411, 456` - 모든 네비게이션 링크 수정
- `3-1-1_선박상세대시보드.html:283-339, 343, 424` - 사이드바 및 내부 링크 수정
- `4-1-1_경보목록.html:312-368, 372, all table rows` - 사이드바 및 테이블 onclick 링크 수정

**수정된 링크 매핑:**
```
dashboard.html → 2-1_대시보드.html
vessel-detail.html → 3-1-1_선박상세대시보드.html
alerts.html → 4-1-1_경보목록.html
alert-detail.html → 4-1-2_경보상세.html
# 추가...
```

---

### 지도 아스펙트 비율 수정 (2-1_대시보드.html)

**변경 사항:**
- ✅ 지도가 옆으로 찌그러지는 문제 해결
- ✅ `aspect-ratio: 2 / 1` CSS 속성으로 세계 지도 비율 유지
- ✅ Flexbox 중앙 정렬로 지도 배치 최적화
- ✅ `object-fit: contain` + `object-position: center` 조합으로 완벽한 비율 보존

**수정 파일:**
- `2-1_대시보드.html:16-42` - map-container 및 map-placeholder CSS

**기술 세부사항:**
```css
/* 기존 - 고정 높이로 인한 왜곡 */
.map-container {
    height: 500px;  /* 문제 원인 */
}
.map-placeholder {
    width: 100%;
    height: 100%;  /* 부모 높이 그대로 따라감 */
}

/* 수정 - aspect-ratio로 비율 유지 */
.map-container {
    /* height 제거 */
}
.map-placeholder {
    width: 100%;
    aspect-ratio: 2 / 1;  /* 세계 지도 표준 비율 */
    display: flex;
    align-items: center;
    justify-content: center;
}
```

---

## 2025-10-13 업데이트 (Session 1)

### 0. 대시보드 레이아웃 수정 (2-1_대시보드.html)

**변경 사항:**
- ✅ 지도와 통계 블록 레이아웃 개선
- ✅ 지도를 좌측에 배치, 4개 통계 카드를 우측에 세로로 배치
- ✅ 반응형 지원 (1200px 이하에서 세로 배치로 전환)
- ✅ 지도가 깨지지 않도록 크기 조정

**수정 파일:**
- `2-1_대시보드.html:9-14` - map-stats-wrapper 그리드 추가
- `2-1_대시보드.html:69-73` - stats-grid 1열로 변경
- `2-1_대시보드.html:243-264` - 반응형 미디어 쿼리 추가

---

### 1. 로고 크기 증가

**변경 사항:**
- ✅ 사이드바 로고: 36px → 48px
- ✅ 로그인 페이지 로고: 56px → 72px
- ✅ max-width 설정으로 로고 비율 유지

**수정 파일:**
- `common.css:79-84` - 사이드바 로고 크기 증가
- `index.html:50-55` - 로그인 페이지 로고 크기 증가

---

### 2. 사이드바 메뉴 표준화

**변경 사항:**
- ✅ 모든 페이지에서 일관된 메뉴 구조 사용
- ✅ 표준 메뉴 템플릿 생성 (`sidebar-template.html`)

**메뉴 구조:**
1. 로그인 (index.html)
2. 대시보드 (2-1_대시보드.html)
3. 선박 상세 (3-1-1_선박상세대시보드.html)
4. 컴플라이언스 (3-2-1_컴플라이언스대시보드.html)
5. 사이버 리스크 (4-1-1_경보목록.html)
6. 인프라 로그 (5-1-1_IP트래픽로그.html)
7. 정책 및 구성 (6-1-1_존설정.html)
8. 관리 (7-1-1_사용자관리.html)
9. 내 정보 (1-3_내정보관리.html) - 하단
10. 시스템 설정 (7-2-1_시스템설정.html) - 하단

**수정 파일:**
- `sidebar-template.html` - 표준 사이드바 템플릿 생성

---

### 3. 선상 대시보드 최적화 (8-1-1_선상메인대시보드.html)

**변경 사항:**
- ✅ 스크롤 없이 한 화면에 모든 정보 표시
- ✅ 3열 그리드로 레이아웃 재구성
- ✅ 복원력 상태 카드: 3x2 → 6x1 (가로 배치)
- ✅ 모든 요소 크기 축소 및 간격 조정

**주요 수정:**
- **헤더 패딩**: 20px → 12px
- **컨텐츠 패딩**: 32px → 16px
- **위젯 패딩**: 24px → 16px
- **그리드 갭**: 24px → 16px
- **폰트 크기**: 전반적으로 10-20% 축소
- **복원력 아이콘**: 64px → 48px
- **버튼 패딩**: 12px → 8px
- **overflow**: auto → hidden (데스크톱에서 스크롤 제거)

**수정 파일:**
- `8-1-1_선상메인대시보드.html:25-32` - 헤더 패딩 축소
- `8-1-1_선상메인대시보드.html:85-93` - 3열 그리드, overflow hidden
- `8-1-1_선상메인대시보드.html:95-103` - 위젯 크기 축소
- `8-1-1_선상메인대시보드.html:137-141` - 복원력 6열 그리드
- 기타 다수 폰트/간격 조정

---

### 4. 페이지 링크 검토 및 수정

**확인 사항:**
- ✅ 로그인 폼 → 2-1_대시보드.html
- ✅ 사이드바 메뉴 링크 표준화
- ✅ onclick 이벤트 링크 확인
- ✅ 브레드크럼브 링크 확인

**주요 링크:**
```
index.html → 2-1_대시보드.html (로그인 후)
2-1_대시보드.html → 3-1-1_선박상세대시보드.html (선박 클릭)
4-1-1_경보목록.html → 4-1-2_경보상세.html → 4-1-3_사고관리.html
```

---

## 기술 세부사항

### 반응형 브레이크포인트

```css
/* 대시보드 지도/통계 */
@media (max-width: 1200px) {
    .map-stats-wrapper { grid-template-columns: 1fr; }
    .stats-grid { grid-template-columns: repeat(2, 1fr); }
}

/* 선상 대시보드 */
@media (max-width: 1400px) {
    .resilience-grid { grid-template-columns: repeat(3, 1fr); }
}

@media (max-width: 1024px) {
    .bridge-content {
        grid-template-columns: 1fr;
        overflow-y: auto; /* 모바일에서만 스크롤 허용 */
    }
}
```

### 선상 대시보드 그리드 구조

```
[전체 너비: 복원력 상태 (6개 카드 가로)]
[사고 경보] [네트워크 상태] [원격 접속]
[전체 너비: 시스템 상태 요약 (4개 통계)]
```

---

## 테스트 체크리스트

### 데스크톱 (1920x1080)
- [x] 2-1_대시보드: 지도 우측에 통계 4개 카드
- [x] 8-1-1: 스크롤 없이 모든 정보 표시
- [x] 로고 크기 충분히 큼
- [x] 메뉴 일관성

### 태블릿 (1024px)
- [x] 지도/통계 세로 배치
- [x] 선상 대시보드 스크롤 가능

### 모바일 (768px)
- [x] 사이드바 숨김 (기존 동작)
- [x] 1열 레이아웃

---

## 파일 목록

### 수정된 파일
1. `common.css` - 로고 크기 증가
2. `index.html` - 로그인 페이지 로고 크기
3. `2-1_대시보드.html` - 지도/통계 레이아웃 개선
4. `8-1-1_선상메인대시보드.html` - 스크롤 제거 및 최적화

### 새로 생성된 파일
1. `sidebar-template.html` - 표준 사이드바 템플릿
2. `UPDATES.md` - 이 문서

---

## 향후 권장 사항

### 1. 사이드바 표준화 완료
현재 `sidebar-template.html`을 기반으로 모든 페이지의 사이드바를 일괄 업데이트하면 완전한 일관성을 확보할 수 있습니다.

### 2. 컴포넌트 기반 개발
향후 React, Vue 등의 프레임워크 도입 시 표준 사이드바 컴포넌트로 쉽게 전환 가능합니다.

### 3. 추가 반응형 테스트
- 1366x768 (일반 노트북)
- 1440x900 (MacBook)
- 초대형 모니터 (2560px 이상)

### 4. 접근성 개선
- ARIA 레이블 추가
- 키보드 네비게이션 강화
- 색상 대비 검증

---

**마지막 업데이트**: 2025-10-13
**담당**: Claude (Anthropic)
**버전**: 2.1.0
