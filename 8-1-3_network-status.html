<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TeraGRID - Bridge Network Status</title>
    <style>
        body {
            background-color: #0f172a;
            color: #ffffff;
            margin: 0;
            padding: 0;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
        }

        .main-content {
            margin-left: 0;
            padding: 0;
            max-width: 100%;
            height: 100vh;
            display: flex;
            flex-direction: column;
        }

        /* Header */
        .bridge-header {
            background: linear-gradient(135deg, #1e293b 0%, #0f172a 100%);
            padding: 24px 32px;
            border-bottom: 3px solid #0056B3;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .vessel-info-section {
            display: flex;
            align-items: center;
            gap: 32px;
        }

        .vessel-main-info {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .vessel-name-large {
            font-size: 36px;
            font-weight: 800;
            color: #ffffff;
            line-height: 1;
        }

        .vessel-imo-large {
            font-size: 18px;
            color: #94a3b8;
            font-weight: 500;
        }

        .header-right {
            display: flex;
            align-items: center;
            gap: 32px;
        }

        .time-display-large {
            font-size: 24px;
            color: #cbd5e1;
            font-weight: 600;
            font-family: 'Courier New', monospace;
        }

        .status-badge-huge {
            display: flex;
            align-items: center;
            gap: 16px;
            padding: 16px 32px;
            border-radius: 12px;
            font-size: 28px;
            font-weight: 800;
        }

        .status-badge-huge.danger {
            background: linear-gradient(135deg, rgba(239, 68, 68, 0.3) 0%, rgba(239, 68, 68, 0.2) 100%);
            color: #ef4444;
            border: 3px solid #ef4444;
            animation: pulse 2s infinite;
        }

        .status-dot {
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background-color: currentColor;
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; transform: scale(1); }
            50% { opacity: 0.8; transform: scale(1.02); }
        }

        /* Main Content */
        .bridge-content {
            flex: 1;
            padding: 32px;
            overflow-y: auto;
        }

        .page-title-large {
            font-size: 32px;
            font-weight: 800;
            color: #ffffff;
            margin-bottom: 32px;
        }

        /* Network Zones */
        .zone-list {
            display: flex;
            flex-direction: column;
            gap: 20px;
            margin-bottom: 32px;
        }

        .zone-card-large {
            padding: 32px;
            border-radius: 16px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border: 3px solid;
            transition: all 0.3s;
            background: rgba(30, 41, 59, 0.6);
        }

        .zone-card-large:hover {
            transform: translateX(8px);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.6);
        }

        .zone-card-large.online {
            border-color: #10b981;
            background: linear-gradient(135deg, rgba(16, 185, 129, 0.15) 0%, rgba(16, 185, 129, 0.05) 100%);
        }

        .zone-card-large.isolated {
            border-color: #f59e0b;
            background: linear-gradient(135deg, rgba(245, 158, 11, 0.15) 0%, rgba(245, 158, 11, 0.05) 100%);
        }

        .zone-card-large.offline {
            border-color: #ef4444;
            background: linear-gradient(135deg, rgba(239, 68, 68, 0.15) 0%, rgba(239, 68, 68, 0.05) 100%);
        }

        .zone-info {
            display: flex;
            align-items: center;
            gap: 24px;
        }

        .zone-icon-large {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 40px;
            border: 3px solid;
        }

        .zone-icon-large.online {
            background: rgba(16, 185, 129, 0.2);
            color: #10b981;
            border-color: #10b981;
        }

        .zone-icon-large.isolated {
            background: rgba(245, 158, 11, 0.2);
            color: #f59e0b;
            border-color: #f59e0b;
        }

        .zone-icon-large.offline {
            background: rgba(239, 68, 68, 0.2);
            color: #ef4444;
            border-color: #ef4444;
        }

        .zone-details {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .zone-name-large {
            font-size: 24px;
            font-weight: 700;
            color: #ffffff;
        }

        .zone-desc {
            font-size: 16px;
            color: #94a3b8;
        }

        .zone-status-large {
            font-size: 20px;
            font-weight: 700;
            padding: 12px 32px;
            border-radius: 24px;
        }

        .zone-status-large.online {
            background: rgba(16, 185, 129, 0.3);
            color: #10b981;
            border: 2px solid #10b981;
        }

        .zone-status-large.isolated {
            background: rgba(245, 158, 11, 0.3);
            color: #f59e0b;
            border: 2px solid #f59e0b;
        }

        .zone-status-large.offline {
            background: rgba(239, 68, 68, 0.3);
            color: #ef4444;
            border: 2px solid #ef4444;
        }

        /* Emergency Actions */
        .emergency-actions {
            display: flex;
            gap: 16px;
        }

        .btn-huge {
            padding: 20px 32px;
            border-radius: 12px;
            font-size: 20px;
            font-weight: 700;
            cursor: pointer;
            border: none;
            transition: all 0.3s;
            flex: 1;
        }

        .btn-huge.danger {
            background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%);
            color: white;
            border: 2px solid #ef4444;
        }

        .btn-huge.danger:hover {
            background: linear-gradient(135deg, #dc2626 0%, #b91c1c 100%);
            box-shadow: 0 8px 24px rgba(239, 68, 68, 0.6);
            transform: translateY(-2px);
        }

        .btn-huge.success {
            background: linear-gradient(135deg, #10b981 0%, #059669 100%);
            color: white;
            border: 2px solid #10b981;
        }

        .btn-huge.success:hover {
            background: linear-gradient(135deg, #059669 0%, #047857 100%);
            box-shadow: 0 8px 24px rgba(16, 185, 129, 0.6);
            transform: translateY(-2px);
        }

        /* Bridge Navigation */
        .bridge-nav {
            background: rgba(30, 41, 59, 0.95);
            border-bottom: 2px solid rgba(0, 86, 179, 0.4);
            display: flex;
            justify-content: center;
            gap: 8px;
            padding: 16px 32px;
        }

        .nav-link {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 8px;
            padding: 12px 24px;
            border-radius: 10px;
            text-decoration: none;
            color: #94a3b8;
            font-size: 14px;
            font-weight: 600;
            transition: all 0.3s;
            border: 2px solid transparent;
        }

        .nav-link:hover {
            background: rgba(0, 86, 179, 0.2);
            color: #ffffff;
            border-color: rgba(0, 86, 179, 0.4);
        }

        .nav-link.active {
            background: rgba(0, 86, 179, 0.3);
            color: #ffffff;
            border-color: #0056B3;
        }

        /* Scrollbar */
        ::-webkit-scrollbar { width: 10px; }
        ::-webkit-scrollbar-track { background: #1e293b; }
        ::-webkit-scrollbar-thumb { background: #475569; border-radius: 5px; }
        ::-webkit-scrollbar-thumb:hover { background: #64748b; }

        /* Layout */
        .content-layout {
            display: grid;
            grid-template-columns: 450px 1fr;
            gap: 32px;
            margin-bottom: 32px;
        }

        /* Purdue Diagram Styles */
        .purdue-diagram-container {
            background: rgba(30, 41, 59, 0.5);
            border: 2px solid rgba(0, 86, 179, 0.3);
            border-radius: 16px;
            padding: 24px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        #purdueModel {
            width: 100%;
            height: auto;
            max-width: 400px;
        }

        /* SVG Zone Styles */
        .zone-level.online .zone-box {
            fill: rgba(16, 185, 129, 0.15);
            stroke: #10b981;
            stroke-width: 3;
        }

        .zone-level.isolated .zone-box {
            fill: rgba(245, 158, 11, 0.15);
            stroke: #f59e0b;
            stroke-width: 3;
        }

        .zone-level.offline .zone-box {
            fill: rgba(239, 68, 68, 0.15);
            stroke: #ef4444;
            stroke-width: 3;
        }

        .zone-icon {
            font-size: 32px;
            text-anchor: middle;
            dominant-baseline: middle;
        }

        .zone-icon-small {
            font-size: 24px;
            text-anchor: middle;
            dominant-baseline: middle;
        }

        .zone-label {
            fill: #94a3b8;
            font-size: 14px;
            font-weight: 600;
            text-anchor: middle;
            dominant-baseline: middle;
        }

        .zone-label-small {
            fill: #94a3b8;
            font-size: 12px;
            font-weight: 600;
            text-anchor: middle;
            dominant-baseline: middle;
        }

        .zone-name {
            fill: #ffffff;
            font-size: 16px;
            font-weight: 700;
            text-anchor: middle;
            dominant-baseline: middle;
        }

        /* Connection Lines */
        .connection-line {
            stroke-width: 4;
        }

        .connection-line.online {
            stroke: #10b981;
        }

        .connection-line.isolated {
            stroke: #f59e0b;
            stroke-dasharray: 8, 4;
            animation: dash 1s linear infinite;
        }

        .connection-line.offline {
            stroke: #ef4444;
            stroke-dasharray: 4, 4;
        }

        @keyframes dash {
            to {
                stroke-dashoffset: -12;
            }
        }

        .connection-dot {
            fill: currentColor;
        }

        .connection-dot.online {
            fill: #10b981;
        }

        .connection-dot.isolated {
            fill: #f59e0b;
        }

        .connection-dot.offline {
            fill: #ef4444;
        }

        /* Isolation Indicator */
        .isolation-indicator {
            display: block;
        }

        .isolation-x {
            fill: #ef4444;
            font-size: 24px;
            font-weight: 900;
            text-anchor: middle;
            dominant-baseline: middle;
        }

        /* Zone Controls */
        .zone-controls {
            display: flex;
            flex-direction: column;
            gap: 16px;
        }

        .zone-control-card {
            background: rgba(30, 41, 59, 0.6);
            border: 2px solid;
            border-radius: 12px;
            padding: 20px;
            transition: all 0.3s;
        }

        .zone-control-card.online {
            border-color: #10b981;
            background: linear-gradient(135deg, rgba(16, 185, 129, 0.1) 0%, rgba(16, 185, 129, 0.05) 100%);
        }

        .zone-control-card.isolated {
            border-color: #f59e0b;
            background: linear-gradient(135deg, rgba(245, 158, 11, 0.2) 0%, rgba(245, 158, 11, 0.1) 100%);
        }

        .zone-control-card.offline {
            border-color: #ef4444;
            background: linear-gradient(135deg, rgba(239, 68, 68, 0.2) 0%, rgba(239, 68, 68, 0.1) 100%);
        }

        .zone-control-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 24px rgba(0, 0, 0, 0.4);
        }

        .zone-card-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 12px;
        }

        .zone-icon-medium {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 28px;
            border: 2px solid;
        }

        .zone-icon-medium.online {
            background: rgba(16, 185, 129, 0.2);
            color: #10b981;
            border-color: #10b981;
        }

        .zone-icon-medium.isolated {
            background: rgba(245, 158, 11, 0.2);
            color: #f59e0b;
            border-color: #f59e0b;
        }

        .zone-icon-medium.offline {
            background: rgba(239, 68, 68, 0.2);
            color: #ef4444;
            border-color: #ef4444;
        }

        .zone-name-medium {
            font-size: 18px;
            font-weight: 700;
            color: #ffffff;
            margin-bottom: 4px;
        }

        .zone-status-badge {
            padding: 6px 16px;
            border-radius: 16px;
            font-size: 14px;
            font-weight: 700;
        }

        .zone-status-badge.online {
            background: rgba(16, 185, 129, 0.3);
            color: #10b981;
            border: 1px solid #10b981;
        }

        .zone-status-badge.isolated {
            background: rgba(245, 158, 11, 0.3);
            color: #f59e0b;
            border: 1px solid #f59e0b;
        }

        .zone-status-badge.offline {
            background: rgba(239, 68, 68, 0.3);
            color: #ef4444;
            border: 1px solid #ef4444;
        }

        /* Control Buttons */
        .btn-control {
            width: 100%;
            padding: 12px 24px;
            border-radius: 8px;
            font-size: 16px;
            font-weight: 700;
            cursor: pointer;
            border: 2px solid;
            transition: all 0.3s;
            background: rgba(30, 41, 59, 0.8);
            color: #fff;
        }

        .btn-control.warning {
            border-color: #f59e0b;
            color: #f59e0b;
        }

        .btn-control.warning:hover {
            background: #f59e0b;
            color: #fff;
            transform: scale(1.02);
            box-shadow: 0 4px 16px rgba(245, 158, 11, 0.4);
        }

        .btn-control.success {
            border-color: #10b981;
            color: #10b981;
        }

        .btn-control.success:hover {
            background: #10b981;
            color: #fff;
            transform: scale(1.02);
            box-shadow: 0 4px 16px rgba(16, 185, 129, 0.4);
        }

        /* Emergency Actions */
        .emergency-actions {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
        }

        /* Responsive */
        @media (max-width: 1200px) {
            .content-layout {
                grid-template-columns: 1fr;
            }

            .purdue-diagram-container {
                max-width: 500px;
                margin: 0 auto;
            }
        }

        @media (max-width: 768px) {
            .emergency-actions {
                grid-template-columns: 1fr;
            }
        }
    </style>
    <script src="https://unpkg.com/lucide@latest"></script>
</head>
<body>
    <!-- Header -->
    <div class="bridge-header">
        <div class="vessel-info-section">
            <img src="img/TG_logo-02.png" alt="TeraGRID" style="height: 48px; filter: brightness(0) invert(1);">
            <div class="vessel-main-info">
                <div class="vessel-name-large">MV Pacific Star</div>
                <div class="vessel-imo-large">IMO: 9876543</div>
            </div>
        </div>
        <div class="header-right">
            <div class="time-display-large" id="currentTime">2025. 10. 14. 17:30:15</div>
            <div class="status-badge-huge danger">
                <span class="status-dot"></span>
                CRITICAL
            </div>
        </div>
    </div>

    <!-- Navigation -->
    <nav class="bridge-nav">
        <a href="8-1-1_bridge-main-dashboard.html" class="nav-link">
            <span style="font-size: 24px;">üè†</span>
            <span>Main</span>
        </a>
        <a href="8-1-2_incident-alert-list.html" class="nav-link">
            <span style="font-size: 24px;">üö®</span>
            <span>Alerts</span>
        </a>
        <a href="8-1-3_network-status.html" class="nav-link active">
            <span style="font-size: 24px;">üîó</span>
            <span>Network</span>
        </a>
        <a href="8-1-4_incident-response-guide.html" class="nav-link">
            <span style="font-size: 24px;">üìã</span>
            <span>Response</span>
        </a>
        <a href="8-1-5_remote-access-control.html" class="nav-link">
            <span style="font-size: 24px;">üîí</span>
            <span>Remote</span>
        </a>
        <a href="8-2-1_bridge-system-settings.html" class="nav-link">
            <span style="font-size: 24px;">‚öôÔ∏è</span>
            <span>Settings</span>
        </a>
    </nav>

    <!-- Main Content -->
    <main class="main-content">
        <div class="bridge-content">
            <h1 class="page-title-large">Network Status - Purdue Model</h1>

            <div class="content-layout">
                <!-- Left: Purdue Model Diagram -->
                <div class="purdue-diagram-container">
                    <svg id="purdueModel" viewBox="0 0 400 700" xmlns="http://www.w3.org/2000/svg">
                        <!-- Level 5: Enterprise Network -->
                        <g id="level5" class="zone-level online">
                            <rect x="50" y="20" width="300" height="100" rx="12" class="zone-box"/>
                            <text x="200" y="50" class="zone-icon">üåê</text>
                            <text x="200" y="80" class="zone-label">Level 5</text>
                            <text x="200" y="100" class="zone-name">Enterprise Network</text>
                        </g>

                        <!-- Connection Line 5->4 -->
                        <line x1="200" y1="120" x2="200" y2="140" class="connection-line online" id="conn-5-4"/>
                        <circle cx="200" cy="130" r="5" class="connection-dot online" id="dot-5-4"/>
                        <g id="isolation-5-4" class="isolation-indicator">
                            <circle cx="200" cy="130" r="20" fill="#ef4444" opacity="0.2"/>
                            <text x="200" y="138" class="isolation-x">‚úï</text>
                        </g>

                        <!-- Level 4: IT Zone -->
                        <g id="level4" class="zone-level online">
                            <rect x="50" y="140" width="300" height="100" rx="12" class="zone-box"/>
                            <text x="200" y="170" class="zone-icon">üíª</text>
                            <text x="200" y="200" class="zone-label">Level 4</text>
                            <text x="200" y="220" class="zone-name">IT Zone</text>
                        </g>

                        <!-- Connection Line 4->3 with Isolation -->
                        <line x1="200" y1="240" x2="200" y2="260" class="connection-line isolated" id="conn-4-3"/>
                        <circle cx="200" cy="250" r="5" class="connection-dot isolated" id="dot-4-3"/>
                        <!-- Isolation Indicator -->
                        <g id="isolation-4-3" class="isolation-indicator">
                            <circle cx="200" cy="250" r="20" fill="#ef4444" opacity="0.2"/>
                            <text x="200" y="258" class="isolation-x">‚úï</text>
                        </g>

                        <!-- Level 3: Operations Zone -->
                        <g id="level3" class="zone-level isolated">
                            <rect x="50" y="260" width="300" height="100" rx="12" class="zone-box"/>
                            <text x="200" y="290" class="zone-icon">‚öôÔ∏è</text>
                            <text x="200" y="320" class="zone-label">Level 3</text>
                            <text x="200" y="340" class="zone-name">Operations Zone</text>
                        </g>

                        <!-- Connection Line 3->2 -->
                        <line x1="200" y1="360" x2="200" y2="380" class="connection-line online" id="conn-3-2"/>
                        <circle cx="200" cy="370" r="5" class="connection-dot online" id="dot-3-2"/>
                        <g id="isolation-3-2" class="isolation-indicator">
                            <circle cx="200" cy="370" r="20" fill="#ef4444" opacity="0.2"/>
                            <text x="200" y="378" class="isolation-x">‚úï</text>
                        </g>

                        <!-- Level 2: Control Zone -->
                        <g id="level2" class="zone-level online">
                            <rect x="50" y="380" width="300" height="100" rx="12" class="zone-box"/>
                            <text x="200" y="410" class="zone-icon">üéõÔ∏è</text>
                            <text x="200" y="440" class="zone-label">Level 2</text>
                            <text x="200" y="460" class="zone-name">Control Zone</text>
                        </g>

                        <!-- Connection Line 2->1 -->
                        <line x1="200" y1="480" x2="200" y2="500" class="connection-line online" id="conn-2-1"/>
                        <circle cx="200" cy="490" r="5" class="connection-dot online" id="dot-2-1"/>
                        <g id="isolation-2-1" class="isolation-indicator">
                            <circle cx="200" cy="490" r="20" fill="#ef4444" opacity="0.2"/>
                            <text x="200" y="498" class="isolation-x">‚úï</text>
                        </g>

                        <!-- Level 1: I/O Zone -->
                        <g id="level1" class="zone-level online">
                            <rect x="50" y="500" width="300" height="100" rx="12" class="zone-box"/>
                            <text x="200" y="530" class="zone-icon">üõ°Ô∏è</text>
                            <text x="200" y="560" class="zone-label">Level 1</text>
                            <text x="200" y="580" class="zone-name">I/O Zone</text>
                        </g>

                        <!-- Connection Line 1->0 -->
                        <line x1="200" y1="600" x2="200" y2="620" class="connection-line online" id="conn-1-0"/>
                        <circle cx="200" cy="610" r="5" class="connection-dot online" id="dot-1-0"/>
                        <g id="isolation-1-0" class="isolation-indicator">
                            <circle cx="200" cy="610" r="20" fill="#ef4444" opacity="0.2"/>
                            <text x="200" y="618" class="isolation-x">‚úï</text>
                        </g>

                        <!-- Level 0: Physical Process -->
                        <g id="level0" class="zone-level online">
                            <rect x="50" y="620" width="300" height="60" rx="12" class="zone-box"/>
                            <text x="200" y="645" class="zone-icon-small">‚öôÔ∏è</text>
                            <text x="200" y="665" class="zone-label-small">Level 0: Physical Process</text>
                        </g>
                    </svg>
                </div>

                <!-- Right: Zone Control Cards -->
                <div class="zone-controls">
                    <!-- Level 5 Card -->
                    <div class="zone-control-card online" data-level="5">
                        <div class="zone-card-header">
                            <div class="zone-info">
                                <div class="zone-icon-medium online">üåê</div>
                                <div class="zone-details">
                                    <div class="zone-name-medium">Enterprise Network</div>
                                    <div class="zone-desc">Level 5 - Shore Communication & Business</div>
                                </div>
                            </div>
                            <span class="zone-status-badge online">Online</span>
                        </div>
                        <button class="btn-control warning" onclick="toggleZoneIsolation(5)">Isolate</button>
                    </div>

                    <!-- Level 4 Card -->
                    <div class="zone-control-card online" data-level="4">
                        <div class="zone-card-header">
                            <div class="zone-info">
                                <div class="zone-icon-medium online">üíª</div>
                                <div class="zone-details">
                                    <div class="zone-name-medium">IT Zone</div>
                                    <div class="zone-desc">Level 4 - Vessel Business Network</div>
                                </div>
                            </div>
                            <span class="zone-status-badge online">Online</span>
                        </div>
                        <button class="btn-control warning" onclick="toggleZoneIsolation(4)">Isolate</button>
                    </div>

                    <!-- Level 3 Card - ISOLATED -->
                    <div class="zone-control-card isolated" data-level="3">
                        <div class="zone-card-header">
                            <div class="zone-info">
                                <div class="zone-icon-medium isolated">‚öôÔ∏è</div>
                                <div class="zone-details">
                                    <div class="zone-name-medium">Operations Zone</div>
                                    <div class="zone-desc">Level 3 - Navigation Systems (Isolated)</div>
                                </div>
                            </div>
                            <span class="zone-status-badge isolated">Isolated</span>
                        </div>
                        <button class="btn-control success" onclick="toggleZoneIsolation(3)">Restore</button>
                    </div>

                    <!-- Level 2 Card -->
                    <div class="zone-control-card online" data-level="2">
                        <div class="zone-card-header">
                            <div class="zone-info">
                                <div class="zone-icon-medium online">üéõÔ∏è</div>
                                <div class="zone-details">
                                    <div class="zone-name-medium">Control Zone</div>
                                    <div class="zone-desc">Level 2 - Control Systems</div>
                                </div>
                            </div>
                            <span class="zone-status-badge online">Online</span>
                        </div>
                        <button class="btn-control warning" onclick="toggleZoneIsolation(2)">Isolate</button>
                    </div>

                    <!-- Level 1 Card -->
                    <div class="zone-control-card online" data-level="1">
                        <div class="zone-card-header">
                            <div class="zone-info">
                                <div class="zone-icon-medium online">üõ°Ô∏è</div>
                                <div class="zone-details">
                                    <div class="zone-name-medium">I/O Zone</div>
                                    <div class="zone-desc">Level 1 - I/O & Safety Systems</div>
                                </div>
                            </div>
                            <span class="zone-status-badge online">Online</span>
                        </div>
                        <button class="btn-control warning" onclick="toggleZoneIsolation(1)">Isolate</button>
                    </div>

                    <!-- Level 0 Card -->
                    <div class="zone-control-card online" data-level="0">
                        <div class="zone-card-header">
                            <div class="zone-info">
                                <div class="zone-icon-medium online">‚öôÔ∏è</div>
                                <div class="zone-details">
                                    <div class="zone-name-medium">Physical Process</div>
                                    <div class="zone-desc">Level 0 - Physical Devices & Sensors</div>
                                </div>
                            </div>
                            <span class="zone-status-badge online">Online</span>
                        </div>
                        <button class="btn-control" disabled style="opacity: 0.5; cursor: not-allowed;">Physical Layer</button>
                    </div>
                </div>
            </div>

            <!-- Emergency Actions -->
            <div class="emergency-actions">
                <button class="btn-huge danger" onclick="emergencyIsolateAll()">üö® EMERGENCY ISOLATE ALL ZONES</button>
                <button class="btn-huge success" onclick="restoreAll()">‚úì RESTORE ALL ZONES</button>
            </div>
        </div>
    </main>

    <script>
        // Update time
        function updateTime() {
            const now = new Date();
            const year = now.getFullYear();
            const month = String(now.getMonth() + 1).padStart(2, '0');
            const day = String(now.getDate()).padStart(2, '0');
            const hours = String(now.getHours()).padStart(2, '0');
            const minutes = String(now.getMinutes()).padStart(2, '0');
            const seconds = String(now.getSeconds()).padStart(2, '0');
            document.getElementById('currentTime').textContent = `${year}. ${month}. ${day}. ${hours}:${minutes}:${seconds}`;
        }
        setInterval(updateTime, 1000);
        updateTime();

        // Zone state management
        const zoneStates = {
            5: 'online',
            4: 'online',
            3: 'isolated',  // Initially isolated
            2: 'online',
            1: 'online',
            0: 'online'
        };

        // Toggle zone isolation
        function toggleZoneIsolation(level) {
            if (level === 0) return; // Level 0 cannot be isolated

            const currentState = zoneStates[level];
            const newState = currentState === 'isolated' ? 'online' : 'isolated';

            // Update state
            zoneStates[level] = newState;

            // Update SVG diagram
            updateDiagramZone(level, newState);

            // Update control card
            updateControlCard(level, newState);

            // Update connection to level below
            if (level > 0) {
                updateConnection(level, level - 1);
            }

            // Update connection from level above
            if (level < 5) {
                updateConnection(level + 1, level);
            }

            // Show notification
            showNotification(level, newState);
        }

        // Update SVG diagram zone
        function updateDiagramZone(level, state) {
            const svgZone = document.getElementById(`level${level}`);
            svgZone.classList.remove('online', 'isolated', 'offline');
            svgZone.classList.add(state);
        }

        // Update control card
        function updateControlCard(level, state) {
            const card = document.querySelector(`.zone-control-card[data-level="${level}"]`);
            if (!card) return;

            // Update card classes
            card.classList.remove('online', 'isolated', 'offline');
            card.classList.add(state);

            // Update icon
            const icon = card.querySelector('.zone-icon-medium');
            icon.classList.remove('online', 'isolated', 'offline');
            icon.classList.add(state);

            // Update status badge
            const badge = card.querySelector('.zone-status-badge');
            badge.classList.remove('online', 'isolated', 'offline');
            badge.classList.add(state);
            badge.textContent = state === 'online' ? 'Online' : state === 'isolated' ? 'Isolated' : 'Offline';

            // Update button
            const button = card.querySelector('.btn-control');
            button.classList.remove('warning', 'success');
            if (state === 'isolated') {
                button.classList.add('success');
                button.textContent = 'Restore';
            } else {
                button.classList.add('warning');
                button.textContent = 'Isolate';
            }

            // Update description
            const desc = card.querySelector('.zone-desc');
            if (state === 'isolated') {
                if (!desc.textContent.includes('(Isolated)')) {
                    desc.textContent = desc.textContent + ' (Isolated)';
                }
            } else {
                desc.textContent = desc.textContent.replace(' (Isolated)', '');
            }
        }

        // Update connection between zones
        function updateConnection(fromLevel, toLevel) {
            const connId = `conn-${fromLevel}-${toLevel}`;
            const dotId = `dot-${fromLevel}-${toLevel}`;
            const isolationId = `isolation-${fromLevel}-${toLevel}`;

            const connLine = document.getElementById(connId);
            const connDot = document.getElementById(dotId);
            const isolationIndicator = document.getElementById(isolationId);

            if (!connLine) return;

            // Check if either zone is isolated
            const fromState = zoneStates[fromLevel];
            const toState = zoneStates[toLevel];
            const isIsolated = fromState === 'isolated' || toState === 'isolated';

            // Update connection line
            connLine.classList.remove('online', 'isolated', 'offline');
            connDot.classList.remove('online', 'isolated', 'offline');

            if (isIsolated) {
                connLine.classList.add('isolated');
                connDot.classList.add('isolated');
                if (isolationIndicator) {
                    isolationIndicator.style.display = 'block';
                }
            } else {
                connLine.classList.add('online');
                connDot.classList.add('online');
                if (isolationIndicator) {
                    isolationIndicator.style.display = 'none';
                }
            }
        }

        // Show notification
        function showNotification(level, state) {
            const levelNames = {
                5: 'Enterprise Network',
                4: 'IT Zone',
                3: 'Operations Zone',
                2: 'Control Zone',
                1: 'I/O Zone',
                0: 'Physical Process'
            };

            const message = state === 'isolated'
                ? `${levelNames[level]} ISOLATED`
                : `${levelNames[level]} RESTORED`;

            // Simple alert (in production, use a proper notification system)
            console.log(message);
        }

        // Emergency isolate all zones
        function emergencyIsolateAll() {
            if (!confirm('EMERGENCY ISOLATE ALL NETWORK ZONES?\n\nThis will disconnect all network communications on the vessel.')) {
                return;
            }

            // Isolate all zones except Level 0
            for (let level = 1; level <= 5; level++) {
                if (zoneStates[level] !== 'isolated') {
                    zoneStates[level] = 'isolated';
                    updateDiagramZone(level, 'isolated');
                    updateControlCard(level, 'isolated');
                }
            }

            // Update all connections
            for (let level = 1; level <= 5; level++) {
                if (level > 0) updateConnection(level, level - 1);
                if (level < 5) updateConnection(level + 1, level);
            }

            alert('EMERGENCY ISOLATION COMPLETE');
        }

        // Restore all zones
        function restoreAll() {
            if (!confirm('RESTORE ALL ISOLATED ZONES?')) {
                return;
            }

            // Restore all zones
            for (let level = 1; level <= 5; level++) {
                if (zoneStates[level] === 'isolated') {
                    zoneStates[level] = 'online';
                    updateDiagramZone(level, 'online');
                    updateControlCard(level, 'online');
                }
            }

            // Update all connections
            for (let level = 1; level <= 5; level++) {
                if (level > 0) updateConnection(level, level - 1);
                if (level < 5) updateConnection(level + 1, level);
            }

            alert('ALL ZONES RESTORED');
        }

        // Initialize on page load
        document.addEventListener('DOMContentLoaded', function() {
            // Set initial state for Level 3 isolation
            updateConnection(4, 3);
            updateConnection(3, 2);

            // Hide other isolation indicators initially
            const isolationIndicators = document.querySelectorAll('.isolation-indicator');
            isolationIndicators.forEach((indicator, index) => {
                if (indicator.id !== 'isolation-4-3') {
                    indicator.style.display = 'none';
                }
            });
        });

        lucide.createIcons();
    </script>
</body>
</html>
